#include <WiFi.h>
#include <esp_wifi.h>

void setup() {
  Serial.begin(115200);
  WiFi.mode(WIFI_STA); // Modo estação, necessário para enviar pacotes
  delay(1000);
}

void loop() {
  // Pacote de dados aleatório (simples ruído)
  uint8_t noisePacket[128];
  for (int i = 0; i < 128; i++) {
    noisePacket[i] = random(0, 256); // Dados aleatórios
  }

  // Envia o pacote em diferentes canais
  for (int channel = 1; channel <= 13; channel++) {
    esp_wifi_set_channel(channel, WIFI_SECOND_CHAN_NONE);
    esp_wifi_80211_tx(WIFI_IF_STA, noisePacket, sizeof(noisePacket), false);
    delay(1); // Pequeno delay para não travar o ESP32
  }
}
